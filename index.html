<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <h1>Rock paper scissors</h1>
    <p id="score"></p>
    <script>
        
        function getComputerChoice(){
            const computer_weapon = Math.floor(Math.random()*3);

            return computer_weapon;
        }
        function getHumanChoice(text){
            let choice = prompt(text);
            let weapon;
            if(choice.toLowerCase() === "rock"){               
                weapon = 0;
            }
            else if(choice.toLowerCase() === "paper"){               
                weapon = 1;
            }
            else if(choice.toLowerCase() === "scissors"){                               
                weapon = 2;
            }
            else{
                
                return getHumanChoice("try again (Valid choices are rock, paper, and scissors and they are not case sensitive)");
            }
            return weapon;
        }

        function playround(compC,humanC){
            //If human picks rock
            if(humanC === 0){
                if(compC === 0){
                    console.log("tie! 2 rocks");
                    i--;
                }
                else if(compC === 1){
                    console.log("human loses! paper claps rock");
                    computerScore++;
                }
                else if(compC === 2){
                    console.log("human wins! rock booms scissors");
                    humanScore++;
                }
                else{
                    console.log("ERROR");
                }
            }
            //paper
            if(humanC === 1){
                if(compC === 0){
                    console.log("human wins! your paper eats the rock");
                    humanScore++;
                }
                else if(compC === 1){
                    console.log("tie! 2 papers");
                    i--;
                }
                else if(compC === 2){
                    console.log("human loses! your paper is cut by scissors");
                    computerScore++;
                }
                else{
                    console.log("ERROR");
                }
            }
            //scissors
            if(humanC === 2){
                if(compC === 0){
                    console.log("human loses! your scissors are smushed by rock ");
                    computerScore++;
                }
                else if(compC === 1){
                    console.log("human wins! your scissors cuts the paper");
                    humanScore++;
                }
                else if(compC === 2){
                    console.log("tie! 2 scissors");
                    i--;
                }
                else{
                    console.log("ERROR");
                }
            }

            return 0;
        }
        
        let humanScore = 0;
        let computerScore = 0;
        //By instantiating i before the loop, we allow ourselves to make it so the scores always add up to 5
        //now that i is a global variable, we can decrement i by 1 when we tie, so we essentially erase that round
        let i = 0;
        for(i = 0; i < 5;i++){
            const comp_choice = getComputerChoice();
            const human_choice = getHumanChoice("What weapon do you pick: Rock, Paper, or Scissors?");
            const game = playround(comp_choice,human_choice);
        }

        if(humanScore > computerScore){
            console.log("The human wins!");
            document.getElementById("demo").innerHTML = "The human wins!"
        }
        else{
            console.log("The human sucks");
            document.getElementById("demo").innerHTML = "The human sucks"
        }
        
    </script>
</body>
</html>